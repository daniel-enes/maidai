<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{components/layout}">
<head>
    <title>Projeto</title>
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>

</head>
<body>
<main class="light flex-grow-8 padding-20"  layout:fragment="content">
    <h1>Projeto</h1>
    <div th:replace="~{components/alert :: alert}"></div>
    <div class="max-width-800px" th:if="${project.id != null}">
        <dl th:object="${project}">
            <dt>Nome:</dt>
            <dd th:text="*{name}"></dd>
            <dt>Empresa:</dt>
            <dd th:text="*{company.name}"></dd>
            <!-- Main Advisor -->
            <dt>Orientador:</dt>
            <dd th:if="*{advisorProjects.size() > 0}">
                <span th:each="rel, iterStat : *{advisorProjects}"
                      th:text="${rel.advisor.person.name}">
                </span>
            </dd>
            <dd th:unless="*{advisorProjects.size() > 0}">
                Nenhum orientador associado
            </dd>

            <!-- Co-Advisor -->
            <dt>Coorientador:</dt>
            <dd th:if="*{advisorProjects.size() > 0}">
                <span th:each="rel : *{advisorProjects}"
                      th:if="${rel.coAdvisor != null}"
                      th:text="${rel.coAdvisor.person.name}">
                </span>
                <span th:if="${#lists.isEmpty(project.advisorProjects.?[coAdvisor != null])}">
                    Nenhum coorientador associado
                </span>
            </dd>
        </dl>

    </div>
</main>
</body>
</html>